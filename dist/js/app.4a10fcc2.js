(function(){"use strict";var t={8058:function(t,e,r){var s=r(144),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-navigation-drawer",{attrs:{app:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[r("v-list",[r("v-list-item-group",[t._l(t.links,(function(e){return r("v-list-item",{key:e.title,attrs:{to:e.url}},[r("v-list-item-icon",[r("v-icon",{domProps:{textContent:t._s(e.icon)}})],1),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:t._s(e.title)}})],1)],1)})),t.isUserLoggedIn?r("v-list-item",{on:{click:t.onLogout}},[r("v-list-item-icon",[r("v-icon",{domProps:{textContent:t._s("mdi-logout")}})],1),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:t._s("Logout")}})],1)],1):t._e()],2)],1)],1),r("v-app-bar",{attrs:{dark:"",color:"indigo",app:""}},[r("v-app-bar-nav-icon",{staticClass:"hidden-md-and-up",on:{click:function(e){t.drawer=!t.drawer}}}),r("v-toolbar-title",[r("router-link",{attrs:{to:"/",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.navigate;return[r("span",{staticClass:"pointer",attrs:{role:"link"},on:{click:s,keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:s.apply(null,arguments)}}},[t._v("Classified Ads")])]}}])})],1),r("v-spacer"),r("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[t._l(t.links,(function(e){return r("v-btn",{key:e.url,attrs:{text:"",to:e.url}},[r("v-icon",{attrs:{left:""}},[t._v(" "+t._s(e.icon)+" ")]),t._v(" "+t._s(e.title)+" ")],1)})),t.isUserLoggedIn?r("v-btn",{attrs:{text:""},on:{click:t.onLogout}},[r("v-icon",{attrs:{left:""}},[t._v(" mdi-logout ")]),t._v(" Logout ")],1):t._e()],2)],1),r("v-main",[r("router-view")],1),t.error?[r("v-snackbar",{attrs:{centered:"",elevation:"10",timeout:5e3,"multi-line":!0,value:!0},on:{input:t.closeError},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[r("v-btn",t._b({attrs:{color:"blue",text:""},on:{click:t.closeError}},"v-btn",s,!1),[t._v(" Закрыть ")])]}}],null,!1,3933293732)},[t._v(" "+t._s(t.error)+" ")])]:t._e()],2)},o=[],i={name:"App",data(){return{drawer:!1}},computed:{error(){return this.$store.getters.error},isUserLoggedIn(){return this.$store.getters.isUserLoggedIn},links(){return this.isUserLoggedIn?[{title:"Orders",icon:"mdi-basket",url:"/orders"},{title:"New ad",icon:"mdi-file-plus",url:"/new"},{title:"My ads",icon:"mdi-view-list",url:"/list"}]:[{title:"Login",icon:"mdi-login",url:"/login"},{title:"Registration",icon:"mdi-account-plus",url:"/registration"}]}},methods:{closeError(){this.$store.dispatch("clearError")},onLogout(){this.$store.dispatch("logoutUser"),this.$router.push("/")}}},n=i,l=r(1001),d=r(3453),c=r.n(d),u=r(7524),m=r(8320),p=r(5206),v=r(3150),h=r(6428),g=r(6816),f=r(7620),w=r(2710),b=r(7874),Z=r(459),V=r(7877),x=r(6724),C=r(3202),y=r(9762),_=r(7921),k=(0,l.Z)(n,a,o,!1,null,"d68854ae",null),E=k.exports;c()(k,{VApp:u.Z,VAppBar:m.Z,VAppBarNavIcon:p.Z,VBtn:v.Z,VIcon:h.Z,VList:g.Z,VListItem:f.Z,VListItemContent:w.km,VListItemGroup:b.Z,VListItemIcon:Z.Z,VListItemTitle:w.V9,VMain:V.Z,VNavigationDrawer:x.Z,VSnackbar:C.Z,VSpacer:y.Z,VToolbarItems:_.lj,VToolbarTitle:_.qW});var A=r(8345),L=r(629),I=r(5503);r(4642),r(3404);class ${constructor(t,e,r,s="",a=!1,o=null){this.title=t,this.description=e,this.ownerId=r,this.imgSrc=s,this.promo=a,this.id=o}}var S={state:{ads:[]},getters:{ads(t){return t.ads},promoAds(t){return t.ads.filter((t=>!0===t.promo))},myAds(t,e){return t.ads.filter((t=>t.ownerId===e.user.id))},adById(t){return e=>t.ads.find((t=>t.id===e))}},mutations:{createAd(t,e){t.ads.push(e)},loadAds(t,e){t.ads=e},updateAd(t,{title:e,description:r,id:s}){const a=t.ads.find((t=>t.id===s));a.title=e,a.description=r}},actions:{async createAd({commit:t,getters:e},r){t("clearError"),t("setLoading",!0);const s=r.image;try{const a=new $(r.title,r.description,e.user.id,"",r.promo),o=await I.Z.database().ref("ads").push(a),i=s.name.slice(s.name.lastIndexOf(".")),n=await I.Z.storage().ref(`ads/${o.key}${i}`).put(s),l=await n.ref.getDownloadURL();await I.Z.database().ref("ads").child(o.key).update({imgSrc:l}),t("setLoading",!1),t("createAd",{...a,id:o.key,imgSrc:l})}catch(a){throw t("setError",a.message),t("setLoading",!1),a}},async fetchAds({commit:t}){t("clearError"),t("setLoading",!0);const e=[];try{const r=await(await I.Z.database().ref("ads").once("value")).val();Object.keys(r).forEach((t=>{const s=r[t];e.push(new $(s.title,s.description,s.ownerId,s.imgSrc,s.promo,t))})),t("loadAds",e),t("setLoading",!1)}catch(r){throw t("setError",r.message),t("setLoading",!1),r}},async updateAd({commit:t},{title:e,description:r,id:s}){t("clearError"),t("setLoading",!0);try{await I.Z.database().ref("ads").child(s).update({title:e,description:r}),t("updateAd",{title:e,description:r,id:s}),t("setLoading",!1)}catch(a){throw t("setError",a.message),t("setLoading",!1),a}}}};r(6690);class T{constructor(t){this.id=t}}var O={state:{user:null},mutations:{setUser(t,e){t.user=e}},actions:{async registerUser({commit:t},{email:e,password:r}){t("clearError"),t("setLoading",!0);try{const s=await I.Z.auth().createUserWithEmailAndPassword(e,r);t("setUser",new T(s.user.uid)),t("setLoading",!1)}catch(s){throw t("setLoading",!1),t("setError",s.message),s}},async loginUser({commit:t},{email:e,password:r}){t("clearError"),t("setLoading",!0);try{const s=await I.Z.auth().signInWithEmailAndPassword(e,r);t("setUser",new T(s.user.uid)),t("setLoading",!1)}catch(s){throw t("setLoading",!1),t("setError",s.message),s}},autoLoginUser({commit:t},e){t("setUser",new T(e.uid))},logoutUser({commit:t}){I.Z.auth().signOut(),t("setUser",null)}},getters:{user(t){return t.user},isUserLoggedIn(t){return null!==t.user}}},P={state:{loading:!1,error:null},mutations:{setLoading(t,e){t.loading=e},setError(t,e){t.error=e},clearError(t){t.error=null}},actions:{setLoading({commit:t},e){t("setLoading",e)},setError({commit:t},e){t("setError",e)},clearError({commit:t}){t("clearError")}},getters:{loading(t){return t.loading},error(t){return t.error}}},U=r(6890);class B{constructor(t,e,r,s=!1,a=null){this.name=t,this.phone=e,this.adId=r,this.done=s,this.id=a}}var D={state:{orders:[]},mutations:{loadOrders(t,e){t.orders=e}},actions:{async createOrder({commit:t},{name:e,phone:r,adId:s,ownerId:a}){const o=new B(e,r,s);t("clearError");try{await U.Z.database().ref(`/users/${a}/orders`).push(o)}catch(i){throw t("setError",i.message),i}},async fetchOrders({commit:t,getters:e}){t("clearError"),t("setLoading",!0);const r=[];try{const s=await(await U.Z.database().ref(`/users/${e.user.id}/orders`).once("value")).val();Object.keys(s).forEach((t=>{const e=s[t];r.push(new B(e.name,e.phone,e.adId,e.done,t))})),t("loadOrders",r),t("setLoading",!1)}catch(s){throw t("setError",s.message),t("setLoading",!1),s}},async markOrderDone({commit:t,getters:e},r){t("clearError");try{await U.Z.database().ref(`/users/${e.user.id}/orders`).child(r).update({done:!0})}catch(s){throw t("setError",s.message),s}}},getters:{newOrders(t){return t.orders.filter((t=>!t.done))},doneOrders(t){return t.orders.filter((t=>t.done))},orders(t,e){return e.newOrders.concat(e.doneOrders)}}};s.Z.use(L.ZP);var R=new L.ZP.Store({modules:{ads:S,user:O,shared:P,orders:D}});function j(t,e,r){R.getters.isUserLoggedIn?r():r("/login?loginError=true")}var q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.loading?r("div",[r("v-container",[r("v-row",[r("v-col",{staticClass:"pt-10 text-center"},[r("v-progress-circular",{attrs:{size:70,width:7,color:"purple",indeterminate:""}})],1)],1)],1)],1):r("div",[t.promoAds.length?r("v-container",{attrs:{fluid:""}},[r("v-carousel",t._l(t.promoAds,(function(e){return r("v-carousel-item",{key:e.id,attrs:{src:e.imgSrc}},[r("div",{staticClass:"car-link"},[r("v-btn",{staticClass:"error",attrs:{to:"/ad/"+e.id}},[t._v(t._s(e.title))])],1)])})),1)],1):t._e(),t.ads.length?r("v-container",[r("v-row",t._l(t.ads,(function(e){return r("v-col",{key:e.id,attrs:{sm:6,md:6,lg:4}},[r("v-card",[r("v-img",{staticClass:"white--text align-end",attrs:{height:"200px",src:e.imgSrc}}),r("v-card-title",[t._v(t._s(e.title))]),r("v-card-text",{staticClass:"text--primary"},[t._v(" "+t._s(e.description)+" ")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"orange",text:"",to:"/ad/"+e.id}},[t._v(" Open ")]),r("app-buy-modal",{attrs:{ad:e}})],1)],1)],1)})),1)],1):r("v-container",[r("v-row",[r("v-col",{staticClass:"pt-10 text-center"},[r("h3",{staticClass:"text-secondary"},[t._v("Объявлений пока нет...")])])],1)],1)],1)},F=[],M={name:"AppHome",computed:{promoAds(){return this.$store.getters.promoAds},ads(){return this.$store.getters.ads},loading(){return this.$store.getters.loading}}},z=M,N=r(3237),W=r(7118),Y=r(2695),H=r(4062),G=r(2102),J=r(9846),K=r(7047),Q=r(624),X=r(2877),tt=(0,l.Z)(z,q,F,!1,null,"18a27192",null),et=tt.exports;c()(tt,{VBtn:v.Z,VCard:N.Z,VCardActions:W.h7,VCardText:W.ZB,VCardTitle:W.EB,VCarousel:Y.Z,VCarouselItem:H.Z,VCol:G.Z,VContainer:J.Z,VImg:K.Z,VProgressCircular:Q.Z,VRow:X.Z,VSpacer:y.Z});var rt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{"fill-height":""}},[r("v-row",[r("v-col",{attrs:{"offset-sm":2,sm:8}},[r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{dark:"",color:"indigo"}},[r("v-toolbar-title",[t._v("Login form")])],1),r("v-card-text",[r("v-form",{ref:"form",attrs:{validation:""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{"prepend-icon":"mdi-account",name:"email",label:"Email",type:"email",rules:t.emailRules,autocomplete:"current-email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),r("v-text-field",{attrs:{"prepend-icon":"mdi-lock",name:"password",label:"Password",type:"password",counter:6,rules:t.passwordRules,autocomplete:"current-password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"indigo",loading:t.loading,large:"",disabled:!t.valid||t.loading},on:{click:t.onSubmit}},[t._v("Login ")])],1)],1)],1)],1)],1)},st=[];const at=/.+@.+\..+/;var ot={name:"AuthLogin",data(){return{email:"",password:"",valid:!1,emailRules:[t=>!!t||"E-mail is required",t=>at.test(t)||"E-mail must be valid"],passwordRules:[t=>!!t||"Password is required",t=>t&&t.length>=6||"Password must contain at least 6 characters"]}},computed:{loading(){return this.$store.getters.loading}},methods:{onSubmit(){if(this.$refs.form.validate()){const t={email:this.email,password:this.password};this.$store.dispatch("loginUser",t).then((()=>{this.$router.push("/")})).catch((()=>{}))}}},created(){this.$route.query["loginError"]&&this.$store.dispatch("setError","Please sign-in to access this page")}},it=ot,nt=r(6232),lt=r(3105),dt=r(6656),ct=(0,l.Z)(it,rt,st,!1,null,"e938be40",null),ut=ct.exports;c()(ct,{VBtn:v.Z,VCard:N.Z,VCardActions:W.h7,VCardText:W.ZB,VCol:G.Z,VContainer:J.Z,VForm:nt.Z,VRow:X.Z,VSpacer:y.Z,VTextField:lt.Z,VToolbar:dt.Z,VToolbarTitle:_.qW});var mt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{"fill-height":""}},[r("v-row",[r("v-col",{attrs:{"offset-sm":2,sm:8}},[r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{dark:"",color:"indigo"}},[r("v-toolbar-title",[t._v("Registration form")])],1),r("v-card-text",[r("v-form",{ref:"form",attrs:{validation:""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{"prepend-icon":"mdi-account",name:"email",label:"Email",type:"email",rules:t.emailRules,autocomplete:"new-email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),r("v-text-field",{attrs:{"prepend-icon":"mdi-lock",name:"password",label:"Password",type:"password",counter:6,rules:t.passwordRules,autocomplete:"new-password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),r("v-text-field",{attrs:{"prepend-icon":"mdi-lock",name:"confirm-password",label:"Confirm Password",type:"password",rules:t.confirmPasswordRules,autocomplete:"new-password",required:""},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"indigo",large:"",loading:t.loading,disabled:!t.valid||t.loading},on:{click:t.onSubmit}},[t._v("Create Account ")])],1)],1)],1)],1)],1)},pt=[];const vt=/.+@.+\..+/;var ht={name:"AuthRegistration",data(){return{email:"",password:"",confirmPassword:"",valid:!1,emailRules:[t=>!!t||"E-mail is required",t=>vt.test(t)||"E-mail must be valid"],passwordRules:[t=>!!t||"Password is required",t=>t&&t.length>=6||"Password must contain at least 6 characters"],confirmPasswordRules:[t=>!!t||"Confirm Password is required",t=>t===this.password||"Passwords should match"]}},computed:{loading(){return this.$store.getters.loading}},methods:{onSubmit(){if(this.$refs.form.validate()){const t={email:this.email,password:this.password};this.$store.dispatch("registerUser",t).then((()=>{this.$router.push("/")})).catch((()=>{}))}}}},gt=ht,ft=(0,l.Z)(gt,mt,pt,!1,null,"711d2c8f",null),wt=ft.exports;c()(ft,{VBtn:v.Z,VCard:N.Z,VCardActions:W.h7,VCardText:W.ZB,VCol:G.Z,VContainer:J.Z,VForm:nt.Z,VRow:X.Z,VSpacer:y.Z,VTextField:lt.Z,VToolbar:dt.Z,VToolbarTitle:_.qW});var bt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[t.loading?r("v-row",[r("v-col",{staticClass:"pt-10 text-center"},[r("v-progress-circular",{attrs:{size:70,width:7,color:"purple",indeterminate:""}})],1)],1):t.loading||0===t.orders.length?r("v-row",[r("v-col",{attrs:{"offset-sm":3,sm:6}},[r("h1",{staticClass:"text--secondary mb-3"},[t._v("You Have No Orders Yet...")])])],1):r("v-row",[r("v-col",{attrs:{"offset-sm":3,sm:6}},[r("h1",{staticClass:"text--secondary mb-3"},[t._v("Orders")]),r("v-list",{attrs:{"two-line":"",flat:""}},t._l(t.orders,(function(e){return r("v-list-item-group",{key:e.id},[r("v-list-item",[[r("v-list-item-action",[r("v-checkbox",{attrs:{"input-value":e.done,readonly:e.done,color:"indigo"},on:{change:function(r){return t.markDone(e)}}})],1),r("v-list-item-content",[r("v-list-item-title",[t._v(t._s(e.name))]),r("v-list-item-subtitle",[t._v(t._s(e.phone))])],1),r("v-btn",{staticClass:"indigo white--text",attrs:{to:"/ad/"+e.adId}},[t._v("Open")])]],2)],1)})),1)],1)],1)],1)},Zt=[],Vt={name:"UserOrders",computed:{loading(){return this.$store.getters.loading},orders(){return this.$store.getters.orders}},methods:{markDone(t){this.$store.dispatch("markOrderDone",t.id).then((()=>{t.done=!0})).catch((()=>{}))}},created(){this.$store.dispatch("fetchOrders")}},xt=Vt,Ct=r(3702),yt=r(3099),_t=(0,l.Z)(xt,bt,Zt,!1,null,"22e6b62a",null),kt=_t.exports;c()(_t,{VBtn:v.Z,VCheckbox:Ct.Z,VCol:G.Z,VContainer:J.Z,VList:g.Z,VListItem:f.Z,VListItemAction:yt.Z,VListItemContent:w.km,VListItemGroup:b.Z,VListItemSubtitle:w.oZ,VListItemTitle:w.V9,VProgressCircular:Q.Z,VRow:X.Z});var Et=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[t.loading||0===t.myAds.length?t.loading||0!==t.myAds.length?r("v-row",[r("v-progress-circular",{attrs:{size:70,width:7,color:"purple",indeterminate:""}})],1):r("v-row",[r("v-col",{attrs:{"offset-md":2,md:8}},[r("h1",{staticClass:"text--secondary mb-5"},[t._v("You have no ads yet...")])])],1):r("v-row",[r("v-col",{attrs:{"offset-md":2,md:8}},[r("h1",{staticClass:"text--secondary mb-5"},[t._v("My Ads")]),t._l(t.myAds,(function(e){return r("v-card",{key:e.id,staticClass:"mb-6"},[r("v-row",{attrs:{dense:""}},[r("v-col",{staticClass:"py-0",attrs:{sm:5}},[r("v-img",{attrs:{src:e.imgSrc,height:"162px"}})],1),r("v-col",{staticClass:"pe-6",attrs:{sm:7}},[r("v-card-title",[t._v(" "+t._s(e.title)+" ")]),r("v-card-subtitle",{staticClass:"desc"},[r("div",{staticClass:"text"},[t._v(" "+t._s(e.description)+" ")])]),r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"indigo",to:"/ad/"+e.id}},[t._v(" Open ")])],1)],1)],1)],1)}))],2)],1)],1)},At=[],Lt={name:"AdsList",computed:{myAds(){return this.$store.getters.myAds},loading(){return this.$store.getters.loading}}},It=Lt,$t=(0,l.Z)(It,Et,At,!1,null,"b3a91530",null),St=$t.exports;c()($t,{VBtn:v.Z,VCard:N.Z,VCardActions:W.h7,VCardSubtitle:W.Qq,VCardTitle:W.EB,VCol:G.Z,VContainer:J.Z,VImg:K.Z,VProgressCircular:Q.Z,VRow:X.Z,VSpacer:y.Z});var Tt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-row",[r("v-col",{attrs:{"offset-sm":3,sm:6}},[r("h1",{staticClass:"text--secondary mb-3"},[t._v("Create New Ad")]),r("v-form",{ref:"form",attrs:{validation:""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{name:"title",label:"Ad Title",type:"text",rules:[function(t){return!!t||"Title is required"}],required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),r("v-textarea",{attrs:{name:"description",label:"Ad Description",type:"text",rules:[function(t){return!!t||"Description is required"}],required:""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)],1)],1),r("v-row",{staticClass:"mb-3"},[r("v-col",{attrs:{"offset-sm":3,sm:6}},[r("v-btn",{staticClass:"warning",on:{click:t.triggerUpload}},[t._v(" Upload "),r("v-icon",{attrs:{right:"",dark:""}},[t._v(" mdi-cloud-upload ")])],1),r("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.onFileChange}})],1)],1),r("v-row",[r("v-col",{attrs:{"offset-sm":3,sm:6}},[t.imgSrc?r("img",{attrs:{src:t.imgSrc,width:"200",alt:""}}):t._e()])],1),r("v-row",[r("v-col",{attrs:{"offset-sm":3,sm:6}},[r("v-switch",{attrs:{label:"Add to Promo?"},model:{value:t.promo,callback:function(e){t.promo=e},expression:"promo"}})],1)],1),r("v-row",[r("v-col",{attrs:{"offset-sm":3,sm:6}},[r("v-btn",{staticClass:"white--text float-end",attrs:{color:"indigo",large:"",loading:t.loading,disabled:!t.valid||!t.image||t.loading},on:{click:t.createAd}},[t._v("Create Ad")])],1)],1)],1)},Ot=[],Pt={name:"AdCreate",data(){return{title:"",description:"",promo:!1,valid:!1,image:null,imgSrc:""}},computed:{loading(){return this.$store.getters.loading}},methods:{createAd(){if(this.$refs.form.validate()&&this.image){const t={title:this.title,description:this.description,promo:this.promo,image:this.image};this.$store.dispatch("createAd",t).then((()=>{this.$router.push("/list")})).catch((()=>{}))}},triggerUpload(){this.$refs.fileInput.click()},onFileChange(t){const e=t.target.files[0],r=new FileReader;r.onload=t=>{this.imgSrc=r.result},r.readAsDataURL(e),this.image=e}}},Ut=Pt,Bt=r(1328),Dt=r(4350),Rt=(0,l.Z)(Ut,Tt,Ot,!1,null,"c1975a06",null),jt=Rt.exports;c()(Rt,{VBtn:v.Z,VCol:G.Z,VContainer:J.Z,VForm:nt.Z,VIcon:h.Z,VRow:X.Z,VSwitch:Bt.Z,VTextField:lt.Z,VTextarea:Dt.Z});var qt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-row",[r("v-col",[t.loading?r("div",{staticClass:"pt-10 text-center"},[r("v-progress-circular",{attrs:{size:70,width:7,color:"purple",indeterminate:""}})],1):r("v-card",[r("v-img",{attrs:{src:t.ad.imgSrc,height:"400px"}}),r("v-card-title",[r("h1",{staticClass:"text--secondary"},[t._v(t._s(t.ad.title))])]),r("v-card-text",{staticClass:"text--primary"},[t._v(" "+t._s(t.ad.description)+" ")]),r("v-card-actions",[r("v-spacer"),t.isOwner?r("app-edit-ad-modal",{attrs:{ad:t.ad}}):t._e(),t.isOwner?t._e():r("app-buy-modal",{attrs:{ad:t.ad}})],1)],1)],1)],1)],1)},Ft=[],Mt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"text-center"},[r("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,a=e.attrs;return[r("v-btn",t._g(t._b({staticClass:"warning me-3"},"v-btn",a,!1),s),[t._v(" Edit ")])]}}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[r("v-card",[r("v-container",[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[r("v-card-title",[r("h2",{staticClass:"text--primary"},[t._v("Edit Ad")])]),r("v-divider"),r("v-card-text",[r("v-text-field",{attrs:{name:"title",label:"Ad Title",type:"text",required:""},model:{value:t.editedTitle,callback:function(e){t.editedTitle="string"===typeof e?e.trim():e},expression:"editedTitle"}}),r("v-textarea",{attrs:{name:"description",label:"Ad Description",type:"text",required:""},model:{value:t.editedDescription,callback:function(e){t.editedDescription="string"===typeof e?e.trim():e},expression:"editedDescription"}})],1),r("v-divider"),r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"purple"},on:{click:t.onCancel}},[t._v(" Cancel ")]),r("v-btn",{staticClass:"white--text",attrs:{color:"indigo"},on:{click:t.onSave}},[t._v(" Save ")])],1)],1)],1)],1)],1)],1)],1)},zt=[],Nt={name:"EditAdModal",props:["ad"],data(){return{modal:!1,editedTitle:this.ad.title,editedDescription:this.ad.description}},methods:{onCancel(){this.editedTitle=this.ad.title,this.editedDescription=this.ad.description,this.modal=!1},onSave(){""!==this.editedTitle&&""!==this.editedDescription&&(this.$store.dispatch("updateAd",{title:this.editedTitle,description:this.editedDescription,id:this.ad.id}),this.modal=!1)}}},Wt=Nt,Yt=r(4246),Ht=r(1418),Gt=(0,l.Z)(Wt,Mt,zt,!1,null,null,null),Jt=Gt.exports;c()(Gt,{VBtn:v.Z,VCard:N.Z,VCardActions:W.h7,VCardText:W.ZB,VCardTitle:W.EB,VCol:G.Z,VContainer:J.Z,VDialog:Yt.Z,VDivider:Ht.Z,VRow:X.Z,VSpacer:y.Z,VTextField:lt.Z,VTextarea:Dt.Z});var Kt={name:"AdView",props:["id"],computed:{ad(){const t=this.id;return this.$store.getters.adById(t)},loading(){return this.$store.getters.loading},isOwner(){return!!this.$store.getters.isUserLoggedIn&&this.ad.ownerId===this.$store.getters.user.id}},components:{AppEditAdModal:Jt}},Qt=Kt,Xt=(0,l.Z)(Qt,qt,Ft,!1,null,"c8c75082",null),te=Xt.exports;c()(Xt,{VCard:N.Z,VCardActions:W.h7,VCardText:W.ZB,VCardTitle:W.EB,VCol:G.Z,VContainer:J.Z,VImg:K.Z,VProgressCircular:Q.Z,VRow:X.Z,VSpacer:y.Z}),s.Z.use(A.Z);const ee=[{path:"",name:"home",component:et},{path:"/login",name:"login",component:ut},{path:"/registration",name:"registration",component:wt},{path:"/orders",name:"orders",component:kt,beforeEnter:j},{path:"/list",name:"list",component:St,beforeEnter:j},{path:"/new",name:"newAd",component:jt,beforeEnter:j},{path:"/ad/:id",props:!0,name:"ad",component:te}],re=new A.Z({mode:"history",base:"/",routes:ee});var se=re,ae=r(1910);s.Z.use(ae.Z);var oe=new ae.Z({}),ie=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"text-center"},[r("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,a=e.attrs;return[r("v-btn",t._g(t._b({staticClass:"white--text",attrs:{color:"indigo"}},"v-btn",a,!1),s),[t._v(" Buy ")])]}}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[r("v-card",[r("v-container",[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[r("v-card-title",[r("h2",{staticClass:"text--primary"},[t._v("Do You Want To Buy It?")])]),r("v-divider"),r("v-card-text",[r("v-text-field",{attrs:{name:"name",label:"Your Name",type:"text",required:""},model:{value:t.name,callback:function(e){t.name="string"===typeof e?e.trim():e},expression:"name"}}),r("v-text-field",{attrs:{name:"phone",label:"Your Phone",type:"text",required:""},model:{value:t.phone,callback:function(e){t.phone="string"===typeof e?e.trim():e},expression:"phone"}})],1),r("v-divider"),r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"purple",disabled:t.localLoading},on:{click:t.onCancel}},[t._v(" Close ")]),r("v-btn",{staticClass:"white--text",attrs:{color:"indigo",disabled:t.localLoading,loading:t.localLoading},on:{click:t.onSave}},[t._v(" Buy It! ")])],1)],1)],1)],1)],1)],1)],1)},ne=[],le={name:"BuyModal",props:["ad"],data(){return{modal:!1,name:"",phone:"",localLoading:!1}},methods:{onCancel(){this.name="",this.phone="",this.modal=!1},onSave(){""!==this.name&&""!==this.phone&&(this.localLoading=!0,this.$store.dispatch("createOrder",{name:this.name,phone:this.phone,adId:this.ad.id,ownerId:this.ad.ownerId}).finally((()=>{this.name="",this.phone="",this.localLoading=!1,this.modal=!1})))}}},de=le,ce=(0,l.Z)(de,ie,ne,!1,null,null,null),ue=ce.exports;c()(ce,{VBtn:v.Z,VCard:N.Z,VCardActions:W.h7,VCardText:W.ZB,VCardTitle:W.EB,VCol:G.Z,VContainer:J.Z,VDialog:Yt.Z,VDivider:Ht.Z,VRow:X.Z,VSpacer:y.Z,VTextField:lt.Z}),s.Z.component("app-buy-modal",ue),s.Z.config.productionTip=!1;const me={apiKey:"AIzaSyADoZnAxdOSXHVHtjZbTvT0DjDkkrVIJEw",authDomain:"vue-ads-project-adcb8.firebaseapp.com",databaseURL:"https://vue-ads-project-adcb8-default-rtdb.europe-west1.firebasedatabase.app",projectId:"vue-ads-project-adcb8",storageBucket:"vue-ads-project-adcb8.appspot.com",messagingSenderId:"358327740476",appId:"1:358327740476:web:33c534677993466ba27b39"};new s.Z({router:se,store:R,vuetify:oe,render:t=>t(E),created(){I.Z.initializeApp(me),I.Z.auth().onAuthStateChanged((t=>{t&&this.$store.dispatch("autoLoginUser",t)})),this.$store.dispatch("fetchAds")}}).$mount("#app")}},e={};function r(s){var a=e[s];if(void 0!==a)return a.exports;var o=e[s]={id:s,loaded:!1,exports:{}};return t[s].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.m=t,function(){var t=[];r.O=function(e,s,a,o){if(!s){var i=1/0;for(c=0;c<t.length;c++){s=t[c][0],a=t[c][1],o=t[c][2];for(var n=!0,l=0;l<s.length;l++)(!1&o||i>=o)&&Object.keys(r.O).every((function(t){return r.O[t](s[l])}))?s.splice(l--,1):(n=!1,o<i&&(i=o));if(n){t.splice(c--,1);var d=a();void 0!==d&&(e=d)}}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[s,a,o]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var s in e)r.o(e,s)&&!r.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,s){var a,o,i=s[0],n=s[1],l=s[2],d=0;if(i.some((function(e){return 0!==t[e]}))){for(a in n)r.o(n,a)&&(r.m[a]=n[a]);if(l)var c=l(r)}for(e&&e(s);d<i.length;d++)o=i[d],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return r.O(c)},s=self["webpackChunkvue_ads_project"]=self["webpackChunkvue_ads_project"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=r.O(void 0,[998],(function(){return r(8058)}));s=r.O(s)})();
//# sourceMappingURL=app.4a10fcc2.js.map